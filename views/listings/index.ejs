<% layout("/layouts/boilerplate") %>

    <body>

        <div class="filters-box">
            <div class="filters">
                <div><i class="fa-solid fa-fire"></i></div>
                <p>Trending</p>
            </div>
            <div class="filters">
                <div><i class="fa-solid fa-bed"></i></div>
                <p>Rooms</p>
            </div>
            <div class="filters">
                <div><i class="fa-solid fa-mountain"></i></div>
                <p>Mountains</p>
            </div>

            <div class="filters">
                <div><i class="fa-solid fa-umbrella-beach"></i></div>
                <p>Beaches</p>
            </div>
            <div class="filters">
                <div><i class="fa-solid fa-tents"></i></div>
                <p>Camping</p>
            </div>
            <div class="filters">
                <div><i class="fa-solid fa-mountain-city"></i></div>
                <p>Iconic cities</p>
            </div>
            <div class="filters">
                <div><i class="fa-solid fa-person-swimming"></i></div>
                <p>Amazing Pools</p>
            </div>
            <div class="filters">
                <div><i class="fa-solid fa-tents"></i></div>
                <p>Arctic</p>
            </div>
            <div class="filters">
                <div><i class="fa-solid fa-city"></i></div>
                <p>Amazing Views</p>
            </div>
            <div class="filters">
                <div><i class="fa-solid fa-ship"></i></div>
                <p>Cruise</p>
            </div>
            <div class="filters">
                <div><i class="fa-solid fa-igloo"></i></div>
                <p>Domes</p>
            </div>
            

            <div class="tax-toggle">
                <div class="form-check-reverse form-switch">
                    
                    <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
                    <label class="form-check-label" for="flexSwitchCheckDefault">Display Taxes</label>
                  </div>
            </div>

        </div>
        <br><br>
        <div class="row justify-content-center row-cols-lg-4 row-cols-md-2 row-cols-sm-1">
            <% for(let listing of allListings){ %>

                <div class="card col" style="width: 18rem;">
                    <a href="/listings/<%= listing.id %>" class="card-a">
                        <img src="<%= listing.image.url%>" class="card-img-top" alt="listing_image"
                            style="height: 18rem">

                        <div class="card-body">
                            <p class="card-title"><a href="/listings/<%= listing.id %>">
                                    <b>
                                        <%= listing.title%>
                                    </b>
                                </a></p>
                            <p class="card-price">&#8377;<%= listing.price %> / day  
                               &nbsp; &nbsp; <i class="tax-info">  + 18% GST</i>
                            </p>
                            
                            <p class="card-loaction">
                                <%= listing.location %>, <%= listing.country %>
                            </p>
                        </div>
                    </a>
                </div>

                <% } %>
        </div>
    </body>

    <script>
       let taxSwitch = document.getElementById("flexSwitchCheckDefault");
       let taxInfo = document.getElementsByClassName
       ("tax-info");
        taxSwitch.addEventListener("click",()=>{
            for(info of taxInfo){
               if( info.style.display != "inline"){
                info.style.display = "inline";
               }else{
                info.style.display = "none";
               }
            }
        });

        
    </script>